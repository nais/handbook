{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"A handbook of sorts","text":""},{"location":"#where-we-will-cover-the-parts-unique-to-us-and-therefore-werent-covered-during-onboarding","title":"Where we will cover the parts \"unique\" to us and therefore weren't covered during onboarding.","text":"<p>Nais is a complex animal - and if you are new to the team there will be quite a few things that are all but obvious and apparent.</p> <p>Factoids about the team are posted on Slack. Take a minute to present your facts, and find out about your colleagues.</p> <p>The technical documentation is comprehensive but hardly describes how we function as a team. This handbook is an attempt at bringing some of the silent knowledge to an audible frequency, and at the very least guide you through the bare essentials. To get you started we recommend that you familiarize yourself with our manifest. The guiding principles that define the how, the what, and the why we do the things that we do. </p> <p>So now that have you have memorized the manifest and documentation we can get into it all.</p>"},{"location":"administrative/fixtures/","title":"Fixtures","text":"<p>The NAIS team might look disorganised to a newcomer and in a certain sense of the word this holds true. However there are a few fixtures in place to ensure a certain degree of synchronisation, consensus and progression.</p>"},{"location":"administrative/fixtures/#froom","title":"Froom","text":"<p>Thanks to COVID19 we have become \"remote first only\". And in case you are wondering; The froom is our zoom based digital workspace. Froom is a portmanteau of Frode and Zoom. Frode is a popular guy, so his personal Zoom space was where we all gravitated.</p> <p>We all hang out in the lobby and join breakout rooms for more in-depth exploration of topics that may not be of general interest. Anyone is welcome anywhere but \"good manners\" apply. Make your presence known when joining and if you sense that you will be interupting trains of thought or coding flow, come back later or use Slack instead. The froom url is posted in the topic here. </p> <p>All meeting fixtures are held in The froom as well as ad-hoc and sceduled meetings with third parties.</p> <p>Any and all meetings that are deemed unnecessary due to priority or lack of substance are swiftly cancelled and we all go back to [insert task].</p>"},{"location":"administrative/fixtures/#weekly","title":"Weekly","text":"<p>The NAIS weekly takes place Monday at high noon.</p>"},{"location":"administrative/slack/","title":"Slack","text":""},{"location":"administrative/slack/#we-do-not-want-to-leave-anyone-out-but-invites-and-inclusion-can-sometimes-fall-between-the-cracks","title":"We do not want to leave anyone out but invites and inclusion can sometimes fall between the cracks.","text":"<p>Here is a list of Slack channels you might want to join (or in some cases should be in). If you haven't been invited to a private channel listed here let your sponsor know.  </p>"},{"location":"administrative/slack/#private-channels","title":"Private Channels","text":"<p><code>#nais-internal</code> <code>#nais-tech</code></p>"},{"location":"administrative/slack/#public-channels","title":"Public Channels","text":"<p><code>#nais</code></p> <p><code>#naisdevice</code></p> <p><code>#nais-announcements</code></p>"},{"location":"social/the-great-outdoors/","title":"The Great Outdoors","text":""},{"location":"social/the-great-outdoors/#all-work-and-no-play-makes-nais-a-dull-platform","title":"\"All work and no play makes NAIS a dull platform\"","text":""},{"location":"social/the-great-outdoors/#native-naisians","title":"Native NAISians","text":""},{"location":"social/the-great-outdoors/#the-nais-pole","title":"The NAIS Pole","text":""},{"location":"technical/nais/","title":"What is NAIS?","text":"<p>Kubernetes is not just Kubernetes. How did we set it up, and what does NAIS do (nais-yaml, GitHub actions, workflows, etc.)?</p> <p>Kubernetes is a Swiss army knife of tools, and each of these tools comes with its own set of instructions. NAIS is there to help developers utilize these tools without having to read (all) the manual(s). </p>"},{"location":"technical/nais/#naisyaml","title":"nais.yaml","text":"<p>Each of the many components that make up Kubernetes is configured via resource definitions. What we've done in NAIS, is to select what we consider to be the most relevant components and condense their configuration in to a common yaml-file: nais.yaml.</p>"},{"location":"technical/nais/#deployment","title":"Deployment","text":"<p>Through a single yaml-file, the users of the platform should be able to configure and set up everything their application needs. (see deploy for more info)</p>"},{"location":"technical/nais/#observability","title":"Observability","text":"<p>Once an application is running on the platform, the developer of that application should be equipped with everything they need to care for their application. The primary tools for this is logs, metrics and alerts.</p>"},{"location":"technical/nais/#operators","title":"Operators","text":"<p>Even though Kubernetes comes with a lot of features out of the box, there are capabilities we want to add on top, such as databases, token authorization or kafka. We want to give our users a uniform way of expressing their application's needs, so all additional functionality is added to nais.yaml, but there are different operators in the clusters that handle different parts of the manifest. For most things concerning default kubernetes resources, naiserator will handle the business, but most other features have their own dedicated operator.</p> <p>A \"brief history\" of NAIS and the current status quo is available on the fron page of our documentation.</p>"},{"location":"technical/nais/#setup-kubeconfig-as-a-nais-team-member","title":"Setup kubeconfig as a NAIS team member","text":"<p>If you are a member of the NAIS team, you can use the following command to set up your kubeconfig:</p> <pre><code>nais naas kubeconfig --tenant '*' --include-management\n</code></pre>"},{"location":"technical/overview/","title":"NAIS Overview","text":"<p>This document is a high-level overview of the NAIS platform</p>"},{"location":"technical/overview/#namespaces","title":"Namespaces","text":"<p>Over the years we have a number of namespaces that we use for different purposes. The ones to know about are:</p> Name Description <code>nais-system</code> Where we deliver NAIS functionality <code>nais</code> Team namespace for NAIS. Custom functionality for NAV <code>nais-verification</code> Test applications for verifying NAIS with alerts <code>kyverno</code> Only Kyverno is allowed in here <code>cnrm-system</code> Where Cloud Native Resource Manager runs. Managed by Google"},{"location":"technical/overview/#tenants","title":"Tenants","text":""},{"location":"technical/overview/#clusters","title":"Clusters","text":""},{"location":"technical/overview/#management","title":"Management","text":""},{"location":"technical/production-ready/","title":"What is production ready?","text":"<p>This is the NAIS team's attempt to define what production ready means to us. Production implies quality and durability. Running a system means serving requests, and requests are ultimately serving users. We care about our users, thus we must care about our systems.</p> <p>At NAIS, we strive to:</p> <ul> <li>provide fully self serviced products with minimal downtime,</li> <li>be confident that code changes will not break existing functionality,</li> <li>respond quickly when systems fail,</li> <li>spend minimal time fixing errors,</li> <li>and most importantly: spend as much time possible implementing useful services for our users. (you!)</li> </ul> <p>We believe that if our systems conform to the principles in this document, we have a greater chance of achieving these goals.</p>"},{"location":"technical/production-ready/#12-factor-app","title":"12 factor app","text":"<p>Write your application according to the principles of 12 factor apps.</p> <p>Twelve factor apps:</p> <ul> <li>have declarative system requirements,</li> <li>are suitable for deployment in Docker containers,</li> <li>do not have differences between development and production, and</li> <li>can scale up without significant changes to tooling, architecture, or development practices.</li> </ul>"},{"location":"technical/production-ready/#observability","title":"Observability","text":"<p>Expose a Prometheus metric endpoint to allow scraping of key application metrics.</p>"},{"location":"technical/production-ready/#measuring-success","title":"Measuring success","text":"<p>Figure out service level indicators (SLI) and service level objectives (SLO).</p> <p>Service level indicators are quantifying metrics such as error rate, request latency, availability, and system throughput.</p> <p>Service level objectives are targets values for your metrics. You might say that you want an uptime of 99.9%. How do you define uptime? Is it a sufficiently low error rate? Is it being able to serve requests within a reasonable amount of time?</p> <p>Implement SLIs in the application code. Create views in a Grafana dashboard to check up on SLOs.</p> <p>Recommended read: Service Level Objectives in the Google Site Reliability Engineering handbook.</p>"},{"location":"technical/production-ready/#alerts","title":"Alerts","text":"<p>Alerts should be tied to SLOs. Consider if alerting is at all needed. An alert should only fire if human intervention is required. Too many alerts going off will result in alarm fatigue.</p>"},{"location":"technical/production-ready/#relevant-logs","title":"Relevant logs","text":"<p>Ensure traceability of errors by logging sufficient amount of debug information. Do not include sensitive data in logs. Sensitive data include credentials and personally identifyable information.</p>"},{"location":"technical/production-ready/#tests","title":"Tests","text":"<p>Ensure sufficient test coverage so that the next developer is not afraid of breaking things when updating your code.</p>"},{"location":"technical/production-ready/#documentation","title":"Documentation","text":"<ul> <li>Development/building</li> <li>End-user documentation</li> <li>Sysadmin/maintenance</li> <li>Document code where it is complex, hard to read, or otherwise obscure</li> </ul>"},{"location":"technical/production-ready/#continuous-integration","title":"Continuous Integration","text":"<p>Ensure that changes to the codebase are built automatically, and pushed to development and production environments. No manual steps other than <code>git push</code> should be neccessary.</p>"},{"location":"technical/production-ready/#publish-and-announce","title":"Publish and announce","text":"<p>Your system is not in production until it has users. Make sure all potential end users are aware of your system and can use it. Using a system means making requests and having access to support and documentation.</p>"},{"location":"technical/production-ready/#decrease-bus-factor","title":"Decrease bus factor","text":"<p>Ensure that at least two people on your team have sufficient knowledge to debug and work on the system, to avoid bus factor.</p>"},{"location":"technical/production-ready/#data-protection-impact-assessment","title":"Data Protection Impact Assessment","text":"<p>Perform, if applicable, a Data Protection Impact Assessment (or in Norwegian, personvernskonsekvensvurdering (PVK)).</p>"},{"location":"technical/production-ready/#security-audit","title":"Security Audit","text":"<p>Perform a security audit (ROS) before releasing to production.</p>"},{"location":"technical/publications-media/","title":"Publications &amp; Media","text":""},{"location":"technical/publications-media/#seasoned-adventurers-giving-back","title":"Seasoned adventurers - giving back","text":"<p>Our work is in large part driven by and on open source solutions and thanks to the sharing of others we enjoy a faster pace and more robust infrastructure than one might otherwise expect. With that in mind, we do try to contribute with content that describe topics and experiences that have been or are of significance. Being a public service we also try to share through talks, conferences and interactions with other government bodies and the developer community in general. Here is a collection of the past &amp; present.</p>"},{"location":"technical/publications-media/#write-ups","title":"Write ups","text":"<p>NAIS blog</p>"},{"location":"technical/publications-media/#presentations","title":"Presentations","text":"<ul> <li> <p>Using Kubernetes to Change Legacy Systems and Processes in the Public Sector </p> </li> <li> <p>Experiences From Running Istio in a K8s Production Environment </p> </li> <li> <p>NAIS applikasjonsplattform</p> </li> <li> <p>Continious Monitoring</p> </li> <li> <p>Hva kjennetegner en moderne applikasjonsplattform?</p> </li> </ul>"},{"location":"technical/write-the-doc/write-the-doc/","title":"Write the doc","text":""},{"location":"technical/write-the-doc/write-the-doc/#authoring-nais-docs","title":"Authoring NAIS-docs","text":"<p>When writing the documentation we serve at doc.nais.io/doc..cloud.nais.io, we want to make sure that the content we provide helps our users to understand and use the platform we're making. <p>Some key points to keep in mind when writing the docs is: - Following the diataxis theory - Less is more: Keep it short and to the point. This makes it easier to sustain high quality over time. - We are writing docs for the users of our platform. No one else. We should be empathetic to their needs and understanding of the platform, and be mindful of adding details that are not relevant in the current documentation context - Consistency in style and tone - NAIS Quality</p>"},{"location":"technical/write-the-doc/write-the-doc/#diataxis","title":"Diataxis","text":"<p>Di\u00e1taxis identifies four distinct needs, and four corresponding forms of documentation - tutorials, how-to guides, technical reference and explanation. It places them in a systematic relationship, and proposes that documentation should itself be organised around the structures of those needs.</p> <p>To create contents you must determine what you are setting out to do. Are you writing a Tutorial, a How-to guide, a Reference or is it a comprehensive Explanantion of a concept.</p> <ul> <li>Tutorial<ul> <li>A tutorial is an experience that takes place under the guidance of a tutor. A tutorial is always learning-oriented.</li> </ul> </li> <li>How-to<ul> <li>How-to guides are directions that guide the reader through a problem or towards a result. How-to guides are goal-oriented.</li> </ul> </li> <li>Reference<ul> <li>Reference guides are technical descriptions of the machinery and how to operate it. Reference material is information-oriented.</li> </ul> </li> <li>Explanation<ul> <li>Explanation is a discusive treatment of a subject, that permits reflection. Explanation is understanding-oriented.</li> </ul> </li> <li>Markdown guidelines<ul> <li>\"Style guide\" that describes the Markdown conventions to be used when authoring NAIS-docs.</li> </ul> </li> </ul>"},{"location":"technical/write-the-doc/write-the-doc/#conventions","title":"Conventions","text":""},{"location":"technical/write-the-doc/write-the-doc/#documentation-structure","title":"Documentation structure","text":"<p>The file tree represents the structure of the navigation menu. The H1 (#) will be the title of the page and the title in the navigation menu</p> <p>To override the placement in the navigation menu, we use the Awesome Pages plugin for MkDocs.</p>"},{"location":"technical/write-the-doc/write-the-doc/#placeholder-variables","title":"Placeholder variables","text":"<p>Where the reader is expected to change the content, we use placeholder variables. These variables are written in uppercase, with words separated by hyphens, surrounded by &lt;&gt;. For example: <code>&lt;MY-APP&gt;</code>.</p>"},{"location":"technical/write-the-doc/write-the-doc/#tenant-variables","title":"Tenant variables","text":"<p>We template the tenant name in the documentation using &lt;&gt; When the documentation is built, this will be replaced with the relevant tenant name."},{"location":"technical/write-the-doc/write-the-doc/#code-blocks","title":"Code blocks","text":"<p>We want to use expanded notes with the filename in the title and the code block inside the note. Preferably with syntax highlighting where applicable. This will give the reader a copy button with the relevant code and the filename will be visible in the navigation menu.</p> <pre><code>???+ note \".nais/app.yaml\"\n\n    ```yaml hl_lines=\"6-8 11\"\n    apiVersion: nais.io/v1alpha1\n    kind: Application\n    ...\n    ```\n</code></pre>"},{"location":"technical/write-the-doc/write-the-doc/#alternate-paths","title":"Alternate paths","text":"<p>When the user is given a choice, we want to show both paths in the documentation. For example programming language, OS or different methods</p> <pre><code>  === \"Linux\"\n    linux specific stuff\n  === \"macOS\"\n    macOS specific stuff\n</code></pre>"},{"location":"welcome/nais-manifest-eng/","title":"NAIS is a AAAA rated platform service","text":"<p>The As represent these qualities:</p> <ul> <li>Autogenous: produced independently of external influence or aid</li> <li>Advantageous: involving or creating favourable circumstances that increase the chances of success or effectiveness.</li> <li>Automatic: working by itself with little or no direct human control.</li> <li>Accountable: required or expected to justify actions or decisions.</li> </ul>"},{"location":"welcome/nais-manifest-eng/#what-is-nais-for","title":"What is NAIS for?","text":"<p>The NAIS platform is there for the development teams, and aims to offer the best conditions for developing quality welfare services for the Norwegian population. We do this by offering solid products that solve real problems at scale. The products are based on technology the nais team believes are technologically sustainable. By using the platform's products and following the platform standards, the teams can focus on solving high value challenges rather than underlying nuts and bolts. The two most important drivers for the further evolution of the platform are technological developments and the needs of the teams.</p>"},{"location":"welcome/nais-manifest-eng/#what-motivates-us","title":"What motivates us?","text":""},{"location":"welcome/nais-manifest-eng/#social-mission","title":"Social mission","text":"<p>We contribute to an important societal mission by developing and maintaining a platform that relieves developers and helps product teams succeed.</p>"},{"location":"welcome/nais-manifest-eng/#colleagues","title":"Colleagues","text":"<p>We have a good working environment with a positive energy consisting of colleagues who have the independence, passion, competence and will needed to solve our mission.</p>"},{"location":"welcome/nais-manifest-eng/#autonomy","title":"Autonomy","text":"<p>We have a great degree of freedom both as individuals and as a team. Within our assignment, we as a team choose which challenges we want to focus on and how we will solve these. As members of the team, we choose which tasks we want to participate in. This gives us a varied day to day life, and ownership of the things we work on.</p>"},{"location":"welcome/nais-manifest-eng/#technology","title":"Technology","text":"<p>At NAIS, we try to always choose the best tool for the job. We have a low threshold for experimentation, and are not afraid to ditch stuff that doesn't work. We take the advice of seasoned adventurers, but at the same time know that we can only make technology choices after building hands-on experience with the alternatives.</p>"},{"location":"welcome/nais-manifest-eng/#what-are-we-optimizing-for","title":"What are we optimizing for?","text":"<ul> <li> <p>Development speed</p> </li> <li> <p>A first class developer experience</p> </li> <li> <p>Easy to build secure applications</p> </li> <li> <p>Easy to operate applications</p> </li> <li> <p>Good ergonomics</p> </li> <li> <p>Keep pace with new technology</p> </li> </ul>"},{"location":"welcome/nais-sponsor/","title":"NAIS-Sponsor","text":""},{"location":"welcome/nais-sponsor/#it-takes-a-village-to-raise-a-nais-developer","title":"It takes a village to raise a NAIS-developer","text":"<p>For your NAIS-specific onboarding you will be guided by not only one sponsor, but you will be attached to the hip of every anchor so that you can gain insight into every as many aspects of NAIS as possible. When you have the general gist of things and feel ready you can just start picking tasks off the board(s).</p> <p>Not only the anchors are your sponsors. Every member of the team is - and you should not be apologetic or hold back in terms of reaching out to \"whomever\" because we have no higher priority than that you settle in and find joy and accomplishment with us. You can also attach yourself to anyone that you feel might shed more light on a topic you want to explore further.</p> <p>So if you find yourself wondering about something - keep this in mind: It is our duty (not to mention in our own best interest) to make sure you have the tools and understanding that you need so imagine that this Cronjob is run on the team every minute. </p> <pre><code>* * * * * sed -i 's/stoopid question//g'\n</code></pre>"},{"location":"welcome/sponsor/","title":"Checklist for faddere","text":"<ul> <li>Medlemsskap i AD-grupper (nais, nada, nais-analyse)</li> <li>Medlemsskap i teamkanaler (#nais-internal,#nais-tech, #nada-internal)</li> <li>Oppdatere teamkatalogen</li> <li>Arrangere \"onboarding\"/introrunde</li> </ul>"}]}